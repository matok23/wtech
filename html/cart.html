<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoguePoint</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100">
    <header>
        <div class="headerContainer">
            <div class="dropdowns">
                <div class="dropdown">
                    <button class="dropbtn">Men</button>
                    <div class="dropdown-content">
                        <a href="#">Shirts</a>
                        <a href="#">Pants</a>
                        <a href="#">Shoes</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Women</button>
                    <div class="dropdown-content">
                        <a href="#">Dresses</a>
                        <a href="#">Tops</a>
                        <a href="#">Shoes</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Kids</button>
                    <div class="dropdown-content">
                        <a href="#">T-Shirts</a>
                        <a href="#">Jeans</a>
                        <a href="#">Shoes</a>
                    </div>
                </div>
            </div>

            <div class="logo">
                <a href="./landing.html"><img src="pictures\logo.png" alt="VoguePointLogo"></a>
            </div>

            <!-- Search and Buttons -->
            <div class="searchButtons">
                <input type="text" placeholder="Search..." class="searchbar h-100">
                <a href="./registration.html" class="btn btn-primary">Login</a>
                <a href="./cart.html" class="btn btn-primary d-flex align-items-center justify-content-center gap-2">Cart<i class="zmdi zmdi-shopping-cart"></i></a>
            </div>
        </div>
    </header>

    <section class="container text-center flex-fill d-flex flex-column justify-content-center">
        <div class="row my-3 justify-content-center">
            <div class="col-4">
                <div class="p-1"><h2>Shopping Cart</h2></div>
            </div>
        </div>

        <div class="row my-3 justify-content-evenly align-items-start">
            <div class="col-6 p-2 d-flex flex-column gap-2 roundedContainer">
                <div class="cartItem container-fluid text-center p-2">
                    <div class="row justify-content-center justify-content-xl-between">
                        <div class="col-4 d-none d-xl-block align-self-center">
                            <a href="#"><img class="border border-black border-opacity-50 rounded" src="https://img.sonofatailor.com/images/customizer/product/highneck/DeepBlue_Regular.jpg"></a>
                        </div>
                        <div class="col-9 col-xl-5 text-start d-flex flex-column justify-content-evenly gap-2">
                            <table>
                                <thead><h3>Casual t-shirt</h3></thead>
                                <tbody>
                                    <tr>
                                        <td>Price</td>
                                        <td><strong class="productPrice">$14.99</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Size</td>
                                        <td><select class="">
                                                <option value=""></option>
                                                <option value="1">XS</option>
                                                <option value="2">S</option>
                                                <option value="3">M</option>
                                                <option value="4">L</option>
                                                <option value="5">XL</option>
                                                <option value="6">XXL</option>
                                            </select></td>
                                    </tr>
                                    <tr>
                                        <td>Amount</td>
                                        <td><input type="number" min="1" value="1" step="1"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="productLogo col-3 col-lg-2 d-flex flex-column align-items-end justify-content-end justify-content-xl-between">
                            <img class="rounded-5 border border-black border-opacity-50 d-none d-xl-block" src="https://w0.peakpx.com/wallpaper/747/877/HD-wallpaper-adidas-logo-white-boss.jpg">
                            <button class="p-1 w-100"><i class="zmdi zmdi-delete fs-4"></i></button>
                        </div>
                    </div>
                </div>

                <div class="cartItem container-fluid text-center p-2">
                    <div class="row justify-content-center justify-content-xl-between">
                        <div class="col-4 d-none d-xl-block align-self-center">
                            <a href="#"><img class="border border-black border-opacity-50 rounded" src="https://i.etsystatic.com/46361038/r/il/ebf3f0/5275208120/il_570xN.5275208120_is95.jpg"></a>
                        </div>
                        <div class="col-9 col-xl-5 text-start d-flex flex-column justify-content-evenly gap-2">
                            <table>
                                <thead><h3>Bagane</h3></thead>
                                <tbody>
                                    <tr>
                                        <td>Price</td>
                                        <td><strong class="productPrice">$999999</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Size</td>
                                        <td><select class="">
                                                <option value=""></option>
                                                <option value="38">38</option>
                                                <option value="39">39</option>
                                                <option value="40">40</option>
                                                <option value="41">41</option>
                                                <option value="42">42</option>
                                                <option value="43">43</option>
                                                <option value="44">44</option>
                                            </select></td>
                                    </tr>
                                    <tr>
                                        <td>Amount</td>
                                        <td><input type="number" min="1" value="1" step="1"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="productLogo col-3 col-lg-2 d-flex flex-column align-items-end justify-content-end justify-content-xl-between">
                            <img class="rounded-5 border border-black border-opacity-50 d-none d-xl-block" src="https://brandlogos.net/wp-content/uploads/2014/10/gucci-logo_brandlogos.net_3dblq-512x512.png">
                            <button class="p-1 w-100"><i class="zmdi zmdi-delete fs-4"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-4 p-2 roundedContainer">
                <div class="p-2"><h3>Your total: $$$</h3></div>
                <hr>
                <div class="d-flex flex-column gap-2 p-2">
                    <div class="d-flex justify-content-between align-items-center px-2">
                        <div class="mb-0 text-start">Coupon</div>
                        <button class="btn btn-primary" id="coupon-btn">ADD</button>
                    </div>
                    <div id="couponOutput" class="text-start d-none px-2"></div>

                    <div class="d-flex justify-content-between align-items-center px-2">
                        <div class="mb-0 text-start">Delivery method</div>
                        <button class="btn btn-primary" id="delivery-btn">ADD</button>
                    </div>
                    <div id="deliveryOutput" class="text-start d-none px-2"></div>

                    <div class="d-flex justify-content-between align-items-center px-2">
                        <div class="mb-0 text-start">Payment method</div>
                        <button class="btn btn-primary" id="payment-btn">ADD</button>
                    </div>
                    <div id="paymentOutput" class="text-start d-none px-2"></div>
                </div>
                <hr>
                <div class="">
                    <a href="./checkout.html" class="w-100 btn btn-primary d-flex align-items-center justify-content-center">Proceed to checkout<i class="ms-2 zmdi zmdi-assignment-check"></i></a>
                </div>
            </div>
        </div>
    </section>

    <div class="cartOverlay align-items-center justify-content-center" id="coupon-ol">
        <div class="cartPopup roundedContainer">
            <h2>Add your coupon</h2>
            <form id="couponForm">
                <div class="d-flex justify-content-evenly gap-2">
                    <input class="form-control border-secondary-subtle" name="coupon" type="text" maxlength="50" required><button type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <div class="cartOverlay align-items-center justify-content-center" id="delivery-ol">
        <form id="deliveryForm">
            <div class="cartPopup roundedContainer">
                <h2>Delivery</h2>
                <div class="d-flex flex-column justify-content-evenly gap-4">
                    <div class="d-flex gap-2">
                        <input class="form-control border-secondary-subtle" name="firstName" placeholder="first name *" type="text" maxlength="50" required>
                        <input class="form-control border-secondary-subtle" name="lastName" placeholder="last name *" type="text" maxlength="50" required>
                    </div>
                    <input class="form-control border-secondary-subtle" name="email" placeholder="email *" type="text" pattern="*" maxlength="100" required>
                    <input class="form-control border-secondary-subtle" name="phoneNumber" placeholder="phone number *" type="tel" pattern="\+?[0-9 ]*" inputmode="numeric" maxlength="20" required>
                    <div class="d-flex gap-2">
                        <input class="form-control border-secondary-subtle" name="country" placeholder="country *" type="text" maxlength="50" required>
                        <input class="form-control border-secondary-subtle" name="city" placeholder="city *" type="text" maxlength="50" required>
                    </div>
                    <input class="form-control border-secondary-subtle" name="address1" placeholder="address line 1 *" type="text" maxlength="100" required>
                    <input class="form-control border-secondary-subtle" name="address2" placeholder="address line 2" type="text" maxlength="100">
                    <input class="form-control border-secondary-subtle w-25" style="min-width: 90px;" name="zipCode" placeholder="zip code *" type="tel" pattern="[0-9]{5}" inputmode="numeric" maxlength="5" required
                    oninput="this.value = this.value.replace(/[^0-9/]/g, '')">
                    <div class="d-flex flex-column align-items-start">
                        <div class="form-check">
                            <input class="form-check-input border border-secondary-subtle" type="radio" id="deliveryRadio1" name="deliveryRadio" value="Deliver to address" checked>
                            <label class="form-check-label" for="deliveryRadio1">Deliver to address</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input border border-secondary-subtle" type="radio" id="deliveryRadio2" name="deliveryRadio" value="Deliver to pick-up point">
                            <label class="form-check-label" for="deliveryRadio2">Deliver to nearest pick-up point</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input border border-secondary-subtle" type="radio" id="deliveryRadio3" name="deliveryRadio" value="Pick-up in person">
                            <label class="form-check-label" for="deliveryRadio3">Pick-up in person</label>
                        </div>
                    </div>
                    <button type="submit">Submit</button>
                </div>
            </div>
        </form>
    </div>

    <div class="cartOverlay align-items-center justify-content-center" id="payment-ol">
        <div class="cartPopup roundedContainer">
            <h2>Payment method</h2>
            <form id="paymentForm">
                <div class="d-flex flex-column justify-content-evenly gap-4">
                    <input class="form-control border-secondary-subtle" name="cardNumber" placeholder="card number" type="tel" pattern="[0-9]{4} [0-9]{4} [0-9]{4} [0-9]{4}" inputmode="numeric" maxlength="19" required 
                                oninput="this.value = this.value.replace(/[^\d /]|^ |( ) /g, '$1').replace(/(\d{4})(?=\d)/g,'$1 ')">
                    <div class="container px-0">
                        <div class="row justify-content-between">
                            <div class="col-4"><input class="form-control border-secondary-subtle" name="expDate" placeholder="expiration" type="tel" pattern="[0-9]{2}\/[0-9]{2}" inputmode="numeric" maxlength="5" required 
                                oninput="this.value = this.value.replace(/[^0-9/]/g, '').replace(/(^\d{2})(?=\d)/g,'$1/')"></div>
                            <div class="col-4">
                                <input class="form-control border-secondary-subtle" name="cvvNumber" placeholder="CVV" type="tel" pattern="[0-9]{3}" inputmode="numeric" maxlength="3" required oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                            </div>
                        </div>
                    </div>
                    <button type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <div class="footerContent">
            <div class="contact">
                <p>info@voguepoint.com</p>
                <p>1-800-273-8255</p>
                <p>Stavbárska, 821 07 Bratislava</p>
            </div>
            <div class="socialMedia">
                <a href="https://www.instagram.com" target="_blank"><i class="zmdi zmdi-instagram"></i>vogue.point</a>
                <a href="https://www.linkedin.com" target="_blank"><i class="zmdi zmdi-linkedin-box"></i>Vogue Point</a>
                <a href="https://www.facebook.com" target="_blank"><i class="zmdi zmdi-facebook-box"></i>Vogue point</a>
            </div>
        </div>
    </footer>

    <script>
        document.querySelector('.cartItem table td input[type=number]').addEventListener('change',ev=>{
            ev.target.value=Math.max(1,Math.round(ev.target.value));
        });

        ['coupon','delivery','payment'].forEach((el)=>{
            const button = document.getElementById(`${el}-btn`);
            const overlay = document.getElementById(`${el}-ol`);
            const popup = overlay.querySelector('div.cartPopup');
            
            button.addEventListener('click',()=>{
                overlay.classList.add('d-flex');
            });

            overlay.addEventListener('click',(ev)=>{
                if(!popup.contains(ev.target)){
                    overlay.classList.remove('d-flex');
                }
            });
        });

        document.getElementById('couponForm').addEventListener('submit',(ev)=>{
            ev.preventDefault();
            ev.target.closest('.cartOverlay').classList.remove('d-flex');
            const formData = new FormData(ev.target);
            const output = document.getElementById('couponOutput');
            output.classList.remove('d-none');
            output.classList.add('d-flex')
            output.innerHTML = `<strong>${formData.get('coupon')}</strong>`;
            ev.target.reset();
        });

        document.getElementById('deliveryForm').addEventListener('submit',(ev)=>{
            ev.preventDefault();
            ev.target.closest('.cartOverlay').classList.remove('d-flex');
            const formData = new FormData(ev.target);
            const output = document.getElementById('deliveryOutput');
            output.classList.remove('d-none');
            output.classList.add('d-flex')
            output.innerHTML = `<strong>${formData.get('firstName')} ${formData.get('lastName')}<br>${formData.get('email')}<br>${formData.get('phoneNumber')}
            <br>${formData.get('address1')}<br>${formData.get('address2') ? formData.get('address2'):''}
            <br>${formData.get('zipCode')} ${formData.get('city')} ${formData.get('country')}<br>${formData.get('deliveryRadio')}</strong>`;
            ev.target.reset();
        });

        document.getElementById('paymentForm').addEventListener('submit',(ev)=>{
            ev.preventDefault();
            ev.target.closest('.cartOverlay').classList.remove('d-flex');
            const formData = new FormData(ev.target);
            const output = document.getElementById('paymentOutput');
            output.classList.remove('d-none');
            output.classList.add('d-flex')
            output.innerHTML = `<strong>Card ending with *</strong><i style="font-style: italic;">${formData.get('cardNumber').toString().slice(-4)}<i>`;
                ev.target.reset();
        });

    </script>
</body>
</html>